<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.36">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>EE CIST 2023 : Données de recensement harmonisées par IPUMS - 1&nbsp; Importation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./d0901references.html" rel="next">
<link href="./d0002summary.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Importation</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">EE CIST 2023 : Données de recensement harmonisées par IPUMS</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Préface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d0001intro.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d0002summary.html" class="sidebar-item-text sidebar-link">Résumé</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d0101import.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Importation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./d0901references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#conditions-dutilisation" id="toc-conditions-dutilisation" class="nav-link active" data-scroll-target="#conditions-dutilisation"> <span class="header-section-number">1.1</span> Conditions d’utilisation</a>
  <ul class="collapse">
  <li><a href="#redistribution-interdite" id="toc-redistribution-interdite" class="nav-link" data-scroll-target="#redistribution-interdite"> <span class="header-section-number">1.1.1</span> Redistribution interdite</a></li>
  <li><a href="#usage-limitation-à-la-recherche-et-lenseignement" id="toc-usage-limitation-à-la-recherche-et-lenseignement" class="nav-link" data-scroll-target="#usage-limitation-à-la-recherche-et-lenseignement"> <span class="header-section-number">1.1.2</span> Usage : Limitation à la recherche et l’enseignement</a></li>
  <li><a href="#confidentialité-interdiction-didentifier-des-individus" id="toc-confidentialité-interdiction-didentifier-des-individus" class="nav-link" data-scroll-target="#confidentialité-interdiction-didentifier-des-individus"> <span class="header-section-number">1.1.3</span> Confidentialité : interdiction d’identifier des individus</a></li>
  <li><a href="#sécurité-protection-des-micro-données" id="toc-sécurité-protection-des-micro-données" class="nav-link" data-scroll-target="#sécurité-protection-des-micro-données"> <span class="header-section-number">1.1.4</span> Sécurité : protection des micro-données</a></li>
  <li><a href="#obligation-de-citation" id="toc-obligation-de-citation" class="nav-link" data-scroll-target="#obligation-de-citation"> <span class="header-section-number">1.1.5</span> Obligation de citation</a></li>
  <li><a href="#rapports-derreurs" id="toc-rapports-derreurs" class="nav-link" data-scroll-target="#rapports-derreurs"> <span class="header-section-number">1.1.6</span> Rapports d’erreurs</a></li>
  <li><a href="#sanctions-en-cas-de-non-respect" id="toc-sanctions-en-cas-de-non-respect" class="nav-link" data-scroll-target="#sanctions-en-cas-de-non-respect"> <span class="header-section-number">1.1.7</span> Sanctions en cas de non respect</a></li>
  </ul></li>
  <li><a href="#données-individuelles-de-recensement" id="toc-données-individuelles-de-recensement" class="nav-link" data-scroll-target="#données-individuelles-de-recensement"> <span class="header-section-number">1.2</span> Données individuelles de recensement</a>
  <ul class="collapse">
  <li><a href="#choix-des-recensements" id="toc-choix-des-recensements" class="nav-link" data-scroll-target="#choix-des-recensements"> <span class="header-section-number">1.2.1</span> Choix des recensements</a></li>
  <li><a href="#choix-des-variables" id="toc-choix-des-variables" class="nav-link" data-scroll-target="#choix-des-variables"> <span class="header-section-number">1.2.2</span> Choix des variables</a></li>
  <li><a href="#choix-du-niveau-déchantillonage" id="toc-choix-du-niveau-déchantillonage" class="nav-link" data-scroll-target="#choix-du-niveau-déchantillonage"> <span class="header-section-number">1.2.3</span> Choix du niveau d’échantillonage</a></li>
  <li><a href="#importation-dans-r" id="toc-importation-dans-r" class="nav-link" data-scroll-target="#importation-dans-r"> <span class="header-section-number">1.2.4</span> Importation dans R</a></li>
  </ul></li>
  <li><a href="#données-géométriques-de-niveaux-1-et-2" id="toc-données-géométriques-de-niveaux-1-et-2" class="nav-link" data-scroll-target="#données-géométriques-de-niveaux-1-et-2"> <span class="header-section-number">1.3</span> Données géométriques de niveaux 1 et 2</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Importation</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<div class="cell">

</div>
<p>La première étape du travail est d’importer les fichiers dont nous aurons besoin à partir du sute IPUMS International. L’ensemble des données utilisées dans cet exercice sera téléchargée sur le site <a href="https://international.ipums.org/international/index.shtml">IPUMS international</a> :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ipums_001.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">ipums homepage</figcaption><p></p>
</figure>
</div>
<section id="conditions-dutilisation" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="conditions-dutilisation"><span class="header-section-number">1.1</span> Conditions d’utilisation</h2>
<p>Les données fournies par IPUMS sont soumises à des <a href="https://international.ipums.org/international/terms.shtml">conditions d’utilisation</a> qui doivent être respectées et que nous avons retraduites ici en français (merci à google translate).</p>
<section id="redistribution-interdite" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="redistribution-interdite"><span class="header-section-number">1.1.1</span> Redistribution interdite</h3>
<blockquote class="blockquote">
<p><em>“Toutes les données extraites de la base de données IPUMS International sont destinées au seul usage du licencié. En vertu des accords d’IPUMS International avec des agences collaboratrices, la redistribution des données à des tiers est interdite. Chaque membre d’une équipe de recherche utilisant les données doit demander l’accès et obtenir une licence individuelle”</em>.</p>
</blockquote>
<ul>
<li><strong>Commentaire</strong> : l’ensemble des participants à l’école d’été devra donc acquérir une licence individuelle IPUMS et sera réputé avoir effectué l’ensemble des opérations d’acquisitions décrites par la suite.</li>
</ul>
</section>
<section id="usage-limitation-à-la-recherche-et-lenseignement" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="usage-limitation-à-la-recherche-et-lenseignement"><span class="header-section-number">1.1.2</span> Usage : Limitation à la recherche et l’enseignement</h3>
<blockquote class="blockquote">
<p><em>“Ces extraits de microdonnées sont fournis à des fins exclusives d’enseignement et de recherche scientifique et ne peuvent être utilisés à d’autres fins sans l’approbation écrite explicite de l’autorité statistique officielle compétente. Il est interdit aux utilisateurs d’utiliser les données d’IPUMS International ou d’autres distributeurs autorisés dans la poursuite de toute entreprise commerciale ou génératrice de revenus, à titre privé ou autre. La publication de résultats de recherche basés sur les microdonnées d’IPUMS International est autorisée dans les communications telles que les articles scientifiques, les revues, les rapports de recherche, etc. L’utilisation de ces données à des fins généalogiques est strictement interdite”</em></p>
</blockquote>
<ul>
<li><strong>Commentaire</strong> : Les objectifs de l’EE CIST 2023 sont parfaitement en accord avec les règles d’usage de la base. Il faudra toutefois bien prendre garde de citer la source dans l’ensemble des documents pédagogiques ainsi que les éventuels articles de recherche</li>
</ul>
</section>
<section id="confidentialité-interdiction-didentifier-des-individus" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="confidentialité-interdiction-didentifier-des-individus"><span class="header-section-number">1.1.3</span> Confidentialité : interdiction d’identifier des individus</h3>
<blockquote class="blockquote">
<p><em>“Les utilisateurs maintiendront la confidentialité des personnes et des ménages. Tous les identifiants directs, ainsi que toutes les caractéristiques qui pourraient conduire à une identification, sont omis des données. Toute tentative de vérifier l’identité des personnes ou des ménages à partir des microdonnées est interdite. Il est également interdit d’alléguer qu’une personne ou un ménage a été identifié dans ces données. Les résultats statistiques susceptibles de révéler l’identité de personnes ou d’entités ne peuvent être communiqués ou publiés sous quelque forme que ce soit.”</em></p>
</blockquote>
<ul>
<li><strong>Commentaire</strong> : Même si les données sont en général anciennes et portent sur des échantillons de 10% maximum, il est impératif de respecter systématiquement l’obligation de confidentialité et de tenter de repérer une personne si IPUMS n’a pas suffisamment assuré cette condition.</li>
</ul>
</section>
<section id="sécurité-protection-des-micro-données" class="level3" data-number="1.1.4">
<h3 data-number="1.1.4" class="anchored" data-anchor-id="sécurité-protection-des-micro-données"><span class="header-section-number">1.1.4</span> Sécurité : protection des micro-données</h3>
<blockquote class="blockquote">
<p><em>“Les utilisateurs mettront en œuvre des mesures de sécurité pour empêcher tout accès non autorisé aux microdonnées acquises auprès d’IPUMS International, de ses partenaires ou distributeurs autorisés. À l’issue de cette recherche, les extraits de données ne peuvent être conservés que s’ils peuvent être sécurisés en toute sécurité. Si la sécurité ne peut être garantie, les microdonnées doivent être détruites.”</em></p>
</blockquote>
<ul>
<li><strong>Commentaire</strong> : Cette obligation signifie que les données individuelles ne pourront pas être mises à disposition via le serveur de l’EE CIST 2023 sauf si celui-ci est correctement sécurisé. Il faudra les faire télécharger par les stagiaires ou formateur au moment de celle-ci. On pourra en revanche stocker les indicateurs agrégés issus de l’agrégation des données individuelles.</li>
</ul>
</section>
<section id="obligation-de-citation" class="level3" data-number="1.1.5">
<h3 data-number="1.1.5" class="anchored" data-anchor-id="obligation-de-citation"><span class="header-section-number">1.1.5</span> Obligation de citation</h3>
<blockquote class="blockquote">
<p><em>“Vous devez citer IPUMS International et l’autorité statistique officielle compétente comme source des microdonnées. Chaque extrait est accompagné d’un langage de citation approprié et pour plus d’informations sur la citation appropriée, reportez-vous à la <a href="https://international.ipums.org/international/citation.shtml">citation et à l’utilisation</a>. Les publications et les rapports de recherche utilisant IPUMS International doivent être ajoutés à la [bibliographie du projet IPUMS] (https://bibliography.ipums.org/).”</em></p>
</blockquote>
<ul>
<li><strong>Commentaire</strong> : les documents pédagogiques de l’EE CIST 2023 utilisant les données IPUMS devront se conformer à cette obligation de même que les éventuels articles de recherche qui en seront issus.</li>
</ul>
</section>
<section id="rapports-derreurs" class="level3" data-number="1.1.6">
<h3 data-number="1.1.6" class="anchored" data-anchor-id="rapports-derreurs"><span class="header-section-number">1.1.6</span> Rapports d’erreurs</h3>
<blockquote class="blockquote">
<p><em>“L’utilisateur accepte d’informer ipums@umn.edu des erreurs dans les données”</em></p>
</blockquote>
<ul>
<li><strong>Commentaire</strong> : c’est la moindre des choses dans une perspective éthique et collaborative.</li>
</ul>
</section>
<section id="sanctions-en-cas-de-non-respect" class="level3" data-number="1.1.7">
<h3 data-number="1.1.7" class="anchored" data-anchor-id="sanctions-en-cas-de-non-respect"><span class="header-section-number">1.1.7</span> Sanctions en cas de non respect</h3>
<blockquote class="blockquote">
<p><em>“La violation de cet accord entraînera la révocation de cette licence, le rappel de toutes les microdonnées acquises, une motion de censure à la ou aux organisations professionnelles concernées et des poursuites civiles en vertu des lois nationales ou internationales, à la discrétion des régents de l’Université du Minnesota. et les agences statistiques officielles. Des sanctions peuvent également être prises contre l’institution à laquelle le contrevenant est affilié.</em>”</p>
</blockquote>
<ul>
<li><strong>Commentaire</strong> : sans commentaires … il serait catastrophique pour le projet d’EE CIST 2023 de voir l’ensemble des cours mis à l’index …</li>
</ul>
</section>
</section>
<section id="données-individuelles-de-recensement" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="données-individuelles-de-recensement"><span class="header-section-number">1.2</span> Données individuelles de recensement</h2>
<p>Après avoir créé votre compte, vous pourrez accéder à l’onglet appelé “<em>browse and select data</em>” dans la barre latérale gauche :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ipums_002.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">lien vers les micro-données</figcaption><p></p>
</figure>
</div>
<p>Il vous amènera à la fenêtre de sélection des micro-données qui doit ressembler à ceci :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ipums_003.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">tableau de bord des requêtes de microdonnées</figcaption><p></p>
</figure>
</div>
<p>Vous allez alors devoir effectuer successivement trois choix pour constituer votre requête :</p>
<ul>
<li><em>choix de l’échantillon</em> : quels recensements pour quels pays et à quelle date ?</li>
<li><em>choix des variables</em> : quelles variables voulez vous extraire ? harmonisées ou propres au pays ?</li>
<li><em>choix de la taille des échantillons</em> : le maximum autorisé est de 10% mais vous pouvez choisir un taux plus faible.</li>
</ul>
<section id="choix-des-recensements" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="choix-des-recensements"><span class="header-section-number">1.2.1</span> Choix des recensements</h3>
<p>En cliquant sur le bouton “<em>SELECT SAMPLES</em>” on va tout d’abord choisir les recensements qui nous intéressent. On peut en retenir soit un seul soit plusieurs à la fois. Ici, nous avons retenu cinq recensements correspondant aux pays africains qui participent à l’EE CIST 2023, en retenant à chaque fois le dernier disponible dans IPUMS.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ipums_004.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Recensements africains disponibles dans IPUMS International</figcaption><p></p>
</figure>
</div>
<p>On constate qu’il n’existe malheureusement pas de données pour la Côte d’Ivoire et le Niger dans IPUMS. Par ailleurs les recensements les plus récents ne sont pas forcément disponibles pour les autres pays. Mais il existe une contrepartie positive majeure qui est le travail d’harmonistation des variables qui a été réalisé par IPUMS.</p>
</section>
<section id="choix-des-variables" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="choix-des-variables"><span class="header-section-number">1.2.2</span> Choix des variables</h3>
<p>Il existe deux options différentes pour extraire des variables, selon qu’on souhaite utiliser les données originales propres à chaque pays et chaque date (“<em>Source variables</em>”) ou que l’on préfère utiliser des données harmonisées par IPUMS (“<em>Harmonized variables</em>”) qui utilisent les même code et les même catégories.</p>
<p>La seconde solution apparaît de loin la plus intéressante pour l’EE CIST 2023 puisqu’elle va permettre de proposer des séquences pédagogiques qui seront facilement reproductibles d’un pays à l’autre. A condition évidemment que les variables harmonisées soient disponibles dans tous les pays, ce qui n’est bien évidemment pas toujours vrai.</p>
<p>Des écrans permettent de visualiser pour chacune des variables ou des groupes de variables si elle est disponible pour les différents recensements. Les variables dites “techniques” sont proposées par défaut et il est en général préférable de les garder puisque c’est grâce à elle qu’on pourra ensuite effectuer les pondérations, mettre en relation les individus et les ménages etc.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ipums_006.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Variables par défaut : ménages</figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ipums_007.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Variables par défaut : individus</figcaption><p></p>
</figure>
</div>
<p>En cliquant sur la colonne (“<em>Add to cart</em>”) on choisit les autres variables que l’on souhaite retenir. Par exemple, on peut regarder quelles variables harmonisées sont disponibles pour l’équipement des ménages et en choisir trois :</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ipums_005.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Exemple de sélection de variables sur l’équipement des ménages</figcaption><p></p>
</figure>
</div>
<p>Nous avons effectué une sélection assez large de variables pour l’EE CIST 2023 en privilégiant celles qui étaient disponibles pour au moins 4 des 5 pays. Nous ya vons ajouté des variables plus spécifiques à chaque pays pour l’analyse des migrations. Au total, nous avons retenu 65 variables qui sont décrites en abrégées ci-dessous mais dont on pourra trouver la description détaillée sur le site IPUMS</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Liste de variables retenus pour les 5 recensements</caption>
<colgroup>
<col style="width: 4%">
<col style="width: 17%">
<col style="width: 78%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">COUNTRY</td>
<td style="text-align: left;">Country</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">YEAR</td>
<td style="text-align: left;">Year</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">SAMPLE</td>
<td style="text-align: left;">IPUMS sample identifier</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">SERIAL</td>
<td style="text-align: left;">Household serial number</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">PERSONS</td>
<td style="text-align: left;">Number of person records in the household</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">HHWT</td>
<td style="text-align: left;">Household weight</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">URBAN</td>
<td style="text-align: left;">Urban-rural status</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">REGIONW</td>
<td style="text-align: left;">Continent and region of country</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">GEOLEV1</td>
<td style="text-align: left;">1st subnational geographic level, world [consistent boundaries over time]</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">GEOLEV2</td>
<td style="text-align: left;">2nd subnational geographic level, world [consistent boundaries over time]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">OWNERSHIP (general)</td>
<td style="text-align: left;">Ownership of dwelling [general version]</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">OWNERSHIPD (detailed)</td>
<td style="text-align: left;">Ownership of dwelling [detailed version]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">ELECTRIC</td>
<td style="text-align: left;">Electricity</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">WATSUP</td>
<td style="text-align: left;">Water supply</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H</td>
<td style="text-align: left;">TRASH</td>
<td style="text-align: left;">Trash disposal</td>
</tr>
<tr class="even">
<td style="text-align: left;">H</td>
<td style="text-align: left;">TOILET</td>
<td style="text-align: left;">Toilet</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">PERNUM</td>
<td style="text-align: left;">Person number</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">PERWT</td>
<td style="text-align: left;">Person weight</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">RESIDENT</td>
<td style="text-align: left;">Residence status: de facto, de jure</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">RELATE (general)</td>
<td style="text-align: left;">Relationship to household head [general version]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">RELATED (detailed)</td>
<td style="text-align: left;">Relationship to household head [detailed version]</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">AGE</td>
<td style="text-align: left;">Age</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">AGE2</td>
<td style="text-align: left;">Age, grouped into intervals</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">SEX</td>
<td style="text-align: left;">Sex</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MARST (general)</td>
<td style="text-align: left;">Marital status [general version]</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MARSTD (detailed)</td>
<td style="text-align: left;">Marital status [detailed version]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">BIRTHYR</td>
<td style="text-align: left;">Year of birth</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">BPLCOUNTRY</td>
<td style="text-align: left;">Country of birth</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">NATION</td>
<td style="text-align: left;">Country of citizenship</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">BPLBJ1</td>
<td style="text-align: left;">Department of birth, Benin</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">BPLBJ2</td>
<td style="text-align: left;">Commune of birth, Benin</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">BPLBF</td>
<td style="text-align: left;">Province of birth, Burkina Faso</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">BPLML</td>
<td style="text-align: left;">Circle of birth, Mali</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">BPLSN</td>
<td style="text-align: left;">Department of birth, Senegal</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">RELIGION (general)</td>
<td style="text-align: left;">Religion [general version]</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">RELIGIOND (detailed)</td>
<td style="text-align: left;">Religion [detailed version]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">SCHOOL</td>
<td style="text-align: left;">School attendance</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">LIT</td>
<td style="text-align: left;">Literacy</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">EDATTAIN (general)</td>
<td style="text-align: left;">Educational attainment, international recode [general version]</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">EDATTAIND (detailed)</td>
<td style="text-align: left;">Educational attainment, international recode [detailed version]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">YRSCHOOL</td>
<td style="text-align: left;">Years of schooling</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">EMPSTAT (general)</td>
<td style="text-align: left;">Activity status (employment status) [general version]</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">EMPSTATD (detailed)</td>
<td style="text-align: left;">Activity status (employment status) [detailed version]</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">LABFORCE</td>
<td style="text-align: left;">Labor force participation</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIGRATEP</td>
<td style="text-align: left;">Migration status, previous residence</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIGCTRYP</td>
<td style="text-align: left;">Country of previous residence</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">GEOMIG1_P</td>
<td style="text-align: left;">1st subnational geographic level of previous residence, world [consistent boundaries over time]</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIGYRS1</td>
<td style="text-align: left;">Years residing in current locality</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG1_P_BJ</td>
<td style="text-align: left;">Department of previous residence, Benin; consistent boundaries, GIS</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG2_P_BJ</td>
<td style="text-align: left;">Commune of previous residence, Benin; consistent boundaries, GIS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIGBF</td>
<td style="text-align: left;">Province of residence one year ago, Burkina Faso</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG1_P_ML</td>
<td style="text-align: left;">Region of previous residence, Mali; consistent boundaries, GIS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG2_P_ML</td>
<td style="text-align: left;">Circle of previous residence, Mali; consistent boundaries, GIS</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG1_1_SN</td>
<td style="text-align: left;">Region of residence 1 years ago, Senegal; consistent boundaries, GIS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG1_5_SN</td>
<td style="text-align: left;">Region of residence 5 years ago, Senegal; consistent boundaries, GIS</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG1_10_SN</td>
<td style="text-align: left;">Region of residence 10 years ago, Senegal; consistent boundaries, GIS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG2_1_SN</td>
<td style="text-align: left;">Department of residence 1 years ago, Senegal; consistent boundaries, GIS</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG2_5_SN</td>
<td style="text-align: left;">Department of residence 5 years ago, Senegal; consistent boundaries, GIS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG2_10_SN</td>
<td style="text-align: left;">Department of residence 10 years ago, Senegal; consistent boundaries, GIS</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG1_P_TG</td>
<td style="text-align: left;">Region of previous residence, Togo; consistent boundaries, GIS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">MIG2_P_TG</td>
<td style="text-align: left;">Prefecture of previous residence, Togo; consistent boundaries, GIS</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">DISABLED</td>
<td style="text-align: left;">Disability status</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">DISBLND</td>
<td style="text-align: left;">Blind or vision-impaired</td>
</tr>
<tr class="even">
<td style="text-align: left;">P</td>
<td style="text-align: left;">DISDEAF</td>
<td style="text-align: left;">Deaf or hearing-impaired</td>
</tr>
<tr class="odd">
<td style="text-align: left;">P</td>
<td style="text-align: left;">DISMUTE</td>
<td style="text-align: left;">Mute or speech impaired</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="choix-du-niveau-déchantillonage" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="choix-du-niveau-déchantillonage"><span class="header-section-number">1.2.3</span> Choix du niveau d’échantillonage</h3>
<p>Une fois définis les échantillons et les variables vous êtes prêts à télécharger les données mais il reste encore à définir le niveau d’échantillonnage souhaité.</p>
<p><img src="img/ipums_008.png" class="img-fluid" alt="Exemple de sélection de variables sur l’équipement des ménages"> La valeur initiale qui correspond au maximum autorisé par IPUMS et les organismes producteurs des recensement est en générale égale à 10% des individus et/ou des ménages. Mais on peut opter pour un échantillon plus réduit en fixant un autre pourcentage ou un nombre précis d’individus. On peut par exemple se ramener à 1% seulement des observations ce qui divise par 10 la taille du fichier :</p>
<p><img src="img/ipums_009.png" class="img-fluid" alt="Exemple de réduction de la densité d’échantillonage de 10% à 1%"> ### Récupération des données et métadonnées</p>
<p>Une fois lancée la requête à l’aide du bouton “<em>SUBMIT EXTRACT</em>” il faut attendre quelques minutes (généralement 2 ou 3) pour accèder au résultat. Celui-ci est annoncé par un courriel mais peut aussi être suivi directement par le navigateur :</p>
<p><img src="img/ipums_010.png" class="img-fluid" alt="Exemple de réduction de la densité d’échantillonage de 10% à 1%"> On peut utiliser une requête existante pour en construire une autre. Dans l’exemple ci-dessus, nous avons construit d’abord une requête pour une extraction de densité 1% puis une seconde requête pour une extraction de densité maximale (10%) afin de pouvoir comparer les résultats obtenus.</p>
<p>Pour pouvoir charger ensuite les données dans R ou un autre logiciel, nous aurons besoin à chaque fois de deux fichiers :</p>
<ul>
<li>le fichier .DAT qui contient les données au format compressé .gz</li>
<li>le fichier DDI qui contient les métadonnées au format .xml</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ipums_011.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Récupération des fichiers IPUMS</figcaption><p></p>
</figure>
</div>
<p><strong>- N.B. :</strong> Il est inutile de décompresser les fichiers de données au format .gz car cela accroîtrait inutilement leur place et risquerait de bloquer l’opération suivante d’importation.</p>
</section>
<section id="importation-dans-r" class="level3" data-number="1.2.4">
<h3 data-number="1.2.4" class="anchored" data-anchor-id="importation-dans-r"><span class="header-section-number">1.2.4</span> Importation dans R</h3>
<p>Pour importer les données dans R, il faut installer le package <em>ipumsr</em> qui va nous permettre de lire les métadonnées puis d’importer les données en une seule opération.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ipumsr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Importation de l'échantillon à 1%</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>ddi <span class="ot">&lt;-</span> <span class="fu">read_ipums_ddi</span>(<span class="st">"ipums/rp/ipumsi_00015.xml"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_ipums_micro</span>(ddi)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(data,<span class="st">"ipums/rp/samp1pct.RDS"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Importation de l'échantillon à 10%</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>ddi <span class="ot">&lt;-</span> <span class="fu">read_ipums_ddi</span>(<span class="st">"ipums/rp/ipumsi_00016.xml"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_ipums_micro</span>(ddi)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(data,<span class="st">"ipums/rp/samp10pct.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nous reviendrons ultérieurement sur le format du tableau R obtenu qui n’est pas un <em>data.frame</em> standard car il comporte des labels supplémentaire donnant à la fois le nom des variables et le code de leurs modalités.</p>
</section>
</section>
<section id="données-géométriques-de-niveaux-1-et-2" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="données-géométriques-de-niveaux-1-et-2"><span class="header-section-number">1.3</span> Données géométriques de niveaux 1 et 2</h2>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./d0002summary.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Résumé</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./d0901references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>