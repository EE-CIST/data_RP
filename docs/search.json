[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "IPUMS INTERNATIONAL",
    "section": "",
    "text": "tbd : rappel des objectifs de l’EE CIST 2023"
  },
  {
    "objectID": "d00_02_intro_resume.html",
    "href": "d00_02_intro_resume.html",
    "title": "Résumé",
    "section": "",
    "text": "tbd : ajouter un résumé"
  },
  {
    "objectID": "d01_00_import_introduction.html",
    "href": "d01_00_import_introduction.html",
    "title": "IMPORTATION DES DONNEES",
    "section": "",
    "text": "ipums homepage"
  },
  {
    "objectID": "d01_01_import_conditions.html",
    "href": "d01_01_import_conditions.html",
    "title": "1  Conditions d’utilisation",
    "section": "",
    "text": "Les données fournies par IPUMS sont soumises à des conditions d’utilisation qui doivent être respectées et que nous avons retraduites ici en français (merci à google translate)."
  },
  {
    "objectID": "d01_01_import_conditions.html#redistribution-interdite",
    "href": "d01_01_import_conditions.html#redistribution-interdite",
    "title": "1  Conditions d’utilisation",
    "section": "1.1 Redistribution interdite",
    "text": "1.1 Redistribution interdite\n\n“Toutes les données extraites de la base de données IPUMS International sont destinées au seul usage du licencié. En vertu des accords d’IPUMS International avec des agences collaboratrices, la redistribution des données à des tiers est interdite. Chaque membre d’une équipe de recherche utilisant les données doit demander l’accès et obtenir une licence individuelle”.\n\n\nCommentaire : l’ensemble des participants à l’école d’été devra donc acquérir une licence individuelle IPUMS et sera réputé avoir effectué l’ensemble des opérations d’acquisitions décrites par la suite."
  },
  {
    "objectID": "d01_01_import_conditions.html#usage-limitation-à-la-recherche-et-lenseignement",
    "href": "d01_01_import_conditions.html#usage-limitation-à-la-recherche-et-lenseignement",
    "title": "1  Conditions d’utilisation",
    "section": "1.2 Usage : Limitation à la recherche et l’enseignement",
    "text": "1.2 Usage : Limitation à la recherche et l’enseignement\n\n“Ces extraits de microdonnées sont fournis à des fins exclusives d’enseignement et de recherche scientifique et ne peuvent être utilisés à d’autres fins sans l’approbation écrite explicite de l’autorité statistique officielle compétente. Il est interdit aux utilisateurs d’utiliser les données d’IPUMS International ou d’autres distributeurs autorisés dans la poursuite de toute entreprise commerciale ou génératrice de revenus, à titre privé ou autre. La publication de résultats de recherche basés sur les microdonnées d’IPUMS International est autorisée dans les communications telles que les articles scientifiques, les revues, les rapports de recherche, etc. L’utilisation de ces données à des fins généalogiques est strictement interdite”\n\n\nCommentaire : Les objectifs de l’EE CIST 2023 sont parfaitement en accord avec les règles d’usage de la base. Il faudra toutefois bien prendre garde de citer la source dans l’ensemble des documents pédagogiques ainsi que les éventuels articles de recherche"
  },
  {
    "objectID": "d01_01_import_conditions.html#confidentialité-interdiction-didentifier-des-individus",
    "href": "d01_01_import_conditions.html#confidentialité-interdiction-didentifier-des-individus",
    "title": "1  Conditions d’utilisation",
    "section": "1.3 Confidentialité : interdiction d’identifier des individus",
    "text": "1.3 Confidentialité : interdiction d’identifier des individus\n\n“Les utilisateurs maintiendront la confidentialité des personnes et des ménages. Tous les identifiants directs, ainsi que toutes les caractéristiques qui pourraient conduire à une identification, sont omis des données. Toute tentative de vérifier l’identité des personnes ou des ménages à partir des microdonnées est interdite. Il est également interdit d’alléguer qu’une personne ou un ménage a été identifié dans ces données. Les résultats statistiques susceptibles de révéler l’identité de personnes ou d’entités ne peuvent être communiqués ou publiés sous quelque forme que ce soit.”\n\n\nCommentaire : Même si les données sont en général anciennes et portent sur des échantillons de 10% maximum, il est impératif de respecter systématiquement l’obligation de confidentialité et de tenter de repérer une personne si IPUMS n’a pas suffisamment assuré cette condition."
  },
  {
    "objectID": "d01_01_import_conditions.html#sécurité-protection-des-micro-données",
    "href": "d01_01_import_conditions.html#sécurité-protection-des-micro-données",
    "title": "1  Conditions d’utilisation",
    "section": "1.4 Sécurité : protection des micro-données",
    "text": "1.4 Sécurité : protection des micro-données\n\n“Les utilisateurs mettront en œuvre des mesures de sécurité pour empêcher tout accès non autorisé aux microdonnées acquises auprès d’IPUMS International, de ses partenaires ou distributeurs autorisés. À l’issue de cette recherche, les extraits de données ne peuvent être conservés que s’ils peuvent être sécurisés en toute sécurité. Si la sécurité ne peut être garantie, les microdonnées doivent être détruites.”\n\n\nCommentaire : Cette obligation signifie que les données individuelles ne pourront pas être mises à disposition via le serveur de l’EE CIST 2023 sauf si celui-ci est correctement sécurisé. Il faudra les faire télécharger par les stagiaires ou formateur au moment de celle-ci. On pourra en revanche stocker les indicateurs agrégés issus de l’agrégation des données individuelles."
  },
  {
    "objectID": "d01_01_import_conditions.html#obligation-de-citation",
    "href": "d01_01_import_conditions.html#obligation-de-citation",
    "title": "1  Conditions d’utilisation",
    "section": "1.5 Obligation de citation",
    "text": "1.5 Obligation de citation\n\n“Vous devez citer IPUMS International et l’autorité statistique officielle compétente comme source des microdonnées. Chaque extrait est accompagné d’un langage de citation approprié et pour plus d’informations sur la citation appropriée, reportez-vous à la citation et à l’utilisation. Les publications et les rapports de recherche utilisant IPUMS International doivent être ajoutés à la [bibliographie du projet IPUMS] (https://bibliography.ipums.org/).”\n\n\nCommentaire : les documents pédagogiques de l’EE CIST 2023 utilisant les données IPUMS devront se conformer à cette obligation de même que les éventuels articles de recherche qui en seront issus."
  },
  {
    "objectID": "d01_01_import_conditions.html#rapports-derreurs",
    "href": "d01_01_import_conditions.html#rapports-derreurs",
    "title": "1  Conditions d’utilisation",
    "section": "1.6 Rapports d’erreurs",
    "text": "1.6 Rapports d’erreurs\n\n“L’utilisateur accepte d’informer ipums@umn.edu des erreurs dans les données”\n\n\nCommentaire : c’est la moindre des choses dans une perspective éthique et collaborative."
  },
  {
    "objectID": "d01_01_import_conditions.html#sanctions-en-cas-de-non-respect",
    "href": "d01_01_import_conditions.html#sanctions-en-cas-de-non-respect",
    "title": "1  Conditions d’utilisation",
    "section": "1.7 Sanctions en cas de non respect",
    "text": "1.7 Sanctions en cas de non respect\n\n“La violation de cet accord entraînera la révocation de cette licence, le rappel de toutes les microdonnées acquises, une motion de censure à la ou aux organisations professionnelles concernées et des poursuites civiles en vertu des lois nationales ou internationales, à la discrétion des régents de l’Université du Minnesota. et les agences statistiques officielles. Des sanctions peuvent également être prises contre l’institution à laquelle le contrevenant est affilié.”\n\n\nCommentaire : sans commentaires … il serait catastrophique pour le projet d’EE CIST 2023 de voir l’ensemble des cours mis à l’index …"
  },
  {
    "objectID": "d01_02_import_individus.html",
    "href": "d01_02_import_individus.html",
    "title": "2  Données individuelles",
    "section": "",
    "text": "Après avoir créé votre compte, vous pourrez accéder à l’onglet appelé “browse and select data” dans la barre latérale gauche :\nIl vous amènera à la fenêtre de sélection des micro-données qui doit ressembler à ceci :\nVous allez alors devoir effectuer successivement trois choix pour constituer votre requête :"
  },
  {
    "objectID": "d01_02_import_individus.html#choix-des-recensements",
    "href": "d01_02_import_individus.html#choix-des-recensements",
    "title": "2  Données individuelles",
    "section": "2.1 Choix des recensements",
    "text": "2.1 Choix des recensements\nEn cliquant sur le bouton “SELECT SAMPLES” on va tout d’abord choisir les recensements qui nous intéressent. On peut en retenir soit un seul soit plusieurs à la fois. Ici, nous avons retenu cinq recensements correspondant aux pays africains qui participent à l’EE CIST 2023, en retenant à chaque fois le dernier disponible dans IPUMS.\n\n\n\nRecensements africains disponibles dans IPUMS International\n\n\nOn constate qu’il n’existe malheureusement pas de données pour la Côte d’Ivoire et le Niger dans IPUMS. Par ailleurs les recensements les plus récents ne sont pas forcément disponibles pour les autres pays. Mais il existe une contrepartie positive majeure qui est le travail d’harmonistation des variables qui a été réalisé par IPUMS."
  },
  {
    "objectID": "d01_02_import_individus.html#choix-des-variables",
    "href": "d01_02_import_individus.html#choix-des-variables",
    "title": "2  Données individuelles",
    "section": "2.2 Choix des variables",
    "text": "2.2 Choix des variables\nIl existe deux options différentes pour extraire des variables, selon qu’on souhaite utiliser les données originales propres à chaque pays et chaque date (“Source variables”) ou que l’on préfère utiliser des données harmonisées par IPUMS (“Harmonized variables”) qui utilisent les même code et les même catégories.\nLa seconde solution apparaît de loin la plus intéressante pour l’EE CIST 2023 puisqu’elle va permettre de proposer des séquences pédagogiques qui seront facilement reproductibles d’un pays à l’autre. A condition évidemment que les variables harmonisées soient disponibles dans tous les pays, ce qui n’est bien évidemment pas toujours vrai.\nDes écrans permettent de visualiser pour chacune des variables ou des groupes de variables si elle est disponible pour les différents recensements. Les variables dites “techniques” sont proposées par défaut et il est en général préférable de les garder puisque c’est grâce à elle qu’on pourra ensuite effectuer les pondérations, mettre en relation les individus et les ménages etc.\n\n\n\nVariables par défaut : ménages\n\n\n\n\n\nVariables par défaut : individus\n\n\nEn cliquant sur la colonne (“Add to cart”) on choisit les autres variables que l’on souhaite retenir. Par exemple, on peut regarder quelles variables harmonisées sont disponibles pour l’équipement des ménages et en choisir trois :\n\n\n\nExemple de sélection de variables sur l’équipement des ménages\n\n\nNous avons effectué une sélection assez large de variables pour l’EE CIST 2023 en privilégiant celles qui étaient disponibles pour au moins 4 des 5 pays. Nous ya vons ajouté des variables plus spécifiques à chaque pays pour l’analyse des migrations. Au total, nous avons retenu 65 variables qui sont décrites en abrégées ci-dessous mais dont on pourra trouver la description détaillée sur le site IPUMS\n\n\n\nListe de variables retenus pour les 5 recensements\n\n\n\n\n\n\n\nType\nVariable\nLabel\n\n\n\n\nH\nCOUNTRY\nCountry\n\n\nH\nYEAR\nYear\n\n\nH\nSAMPLE\nIPUMS sample identifier\n\n\nH\nSERIAL\nHousehold serial number\n\n\nH\nPERSONS\nNumber of person records in the household\n\n\nH\nHHWT\nHousehold weight\n\n\nH\nURBAN\nUrban-rural status\n\n\nH\nREGIONW\nContinent and region of country\n\n\nH\nGEOLEV1\n1st subnational geographic level, world [consistent boundaries over time]\n\n\nH\nGEOLEV2\n2nd subnational geographic level, world [consistent boundaries over time]\n\n\nH\nOWNERSHIP (general)\nOwnership of dwelling [general version]\n\n\nH\nOWNERSHIPD (detailed)\nOwnership of dwelling [detailed version]\n\n\nH\nELECTRIC\nElectricity\n\n\nH\nWATSUP\nWater supply\n\n\nH\nTRASH\nTrash disposal\n\n\nH\nTOILET\nToilet\n\n\nP\nPERNUM\nPerson number\n\n\nP\nPERWT\nPerson weight\n\n\nP\nRESIDENT\nResidence status: de facto, de jure\n\n\nP\nRELATE (general)\nRelationship to household head [general version]\n\n\nP\nRELATED (detailed)\nRelationship to household head [detailed version]\n\n\nP\nAGE\nAge\n\n\nP\nAGE2\nAge, grouped into intervals\n\n\nP\nSEX\nSex\n\n\nP\nMARST (general)\nMarital status [general version]\n\n\nP\nMARSTD (detailed)\nMarital status [detailed version]\n\n\nP\nBIRTHYR\nYear of birth\n\n\nP\nBPLCOUNTRY\nCountry of birth\n\n\nP\nNATION\nCountry of citizenship\n\n\nP\nBPLBJ1\nDepartment of birth, Benin\n\n\nP\nBPLBJ2\nCommune of birth, Benin\n\n\nP\nBPLBF\nProvince of birth, Burkina Faso\n\n\nP\nBPLML\nCircle of birth, Mali\n\n\nP\nBPLSN\nDepartment of birth, Senegal\n\n\nP\nRELIGION (general)\nReligion [general version]\n\n\nP\nRELIGIOND (detailed)\nReligion [detailed version]\n\n\nP\nSCHOOL\nSchool attendance\n\n\nP\nLIT\nLiteracy\n\n\nP\nEDATTAIN (general)\nEducational attainment, international recode [general version]\n\n\nP\nEDATTAIND (detailed)\nEducational attainment, international recode [detailed version]\n\n\nP\nYRSCHOOL\nYears of schooling\n\n\nP\nEMPSTAT (general)\nActivity status (employment status) [general version]\n\n\nP\nEMPSTATD (detailed)\nActivity status (employment status) [detailed version]\n\n\nP\nLABFORCE\nLabor force participation\n\n\nP\nMIGRATEP\nMigration status, previous residence\n\n\nP\nMIGCTRYP\nCountry of previous residence\n\n\nP\nGEOMIG1_P\n1st subnational geographic level of previous residence, world [consistent boundaries over time]\n\n\nP\nMIGYRS1\nYears residing in current locality\n\n\nP\nMIG1_P_BJ\nDepartment of previous residence, Benin; consistent boundaries, GIS\n\n\nP\nMIG2_P_BJ\nCommune of previous residence, Benin; consistent boundaries, GIS\n\n\nP\nMIGBF\nProvince of residence one year ago, Burkina Faso\n\n\nP\nMIG1_P_ML\nRegion of previous residence, Mali; consistent boundaries, GIS\n\n\nP\nMIG2_P_ML\nCircle of previous residence, Mali; consistent boundaries, GIS\n\n\nP\nMIG1_1_SN\nRegion of residence 1 years ago, Senegal; consistent boundaries, GIS\n\n\nP\nMIG1_5_SN\nRegion of residence 5 years ago, Senegal; consistent boundaries, GIS\n\n\nP\nMIG1_10_SN\nRegion of residence 10 years ago, Senegal; consistent boundaries, GIS\n\n\nP\nMIG2_1_SN\nDepartment of residence 1 years ago, Senegal; consistent boundaries, GIS\n\n\nP\nMIG2_5_SN\nDepartment of residence 5 years ago, Senegal; consistent boundaries, GIS\n\n\nP\nMIG2_10_SN\nDepartment of residence 10 years ago, Senegal; consistent boundaries, GIS\n\n\nP\nMIG1_P_TG\nRegion of previous residence, Togo; consistent boundaries, GIS\n\n\nP\nMIG2_P_TG\nPrefecture of previous residence, Togo; consistent boundaries, GIS\n\n\nP\nDISABLED\nDisability status\n\n\nP\nDISBLND\nBlind or vision-impaired\n\n\nP\nDISDEAF\nDeaf or hearing-impaired\n\n\nP\nDISMUTE\nMute or speech impaired"
  },
  {
    "objectID": "d01_02_import_individus.html#choix-du-niveau-déchantillonage",
    "href": "d01_02_import_individus.html#choix-du-niveau-déchantillonage",
    "title": "2  Données individuelles",
    "section": "2.3 Choix du niveau d’échantillonage",
    "text": "2.3 Choix du niveau d’échantillonage\nUne fois définis les échantillons et les variables vous êtes prêts à télécharger les données mais il reste encore à définir le niveau d’échantillonnage souhaité.\n La valeur initiale qui correspond au maximum autorisé par IPUMS et les organismes producteurs des recensement est en générale égale à 10% des individus et/ou des ménages. Mais on peut opter pour un échantillon plus réduit en fixant un autre pourcentage ou un nombre précis d’individus. On peut par exemple se ramener à 1% seulement des observations ce qui divise par 10 la taille du fichier :\n ### Récupération des données et métadonnées\nUne fois lancée la requête à l’aide du bouton “SUBMIT EXTRACT” il faut attendre quelques minutes (généralement 2 ou 3) pour accèder au résultat. Celui-ci est annoncé par un courriel mais peut aussi être suivi directement par le navigateur :\n On peut utiliser une requête existante pour en construire une autre. Dans l’exemple ci-dessus, nous avons construit d’abord une requête pour une extraction de densité 1% puis une seconde requête pour une extraction de densité maximale (10%) afin de pouvoir comparer les résultats obtenus.\nPour pouvoir charger ensuite les données dans R ou un autre logiciel, nous aurons besoin à chaque fois de deux fichiers :\n\nle fichier .DAT qui contient les données au format compressé .gz\nle fichier DDI qui contient les métadonnées au format .xml\n\n\n\n\nRécupération des fichiers IPUMS\n\n\n- N.B. : Il est inutile de décompresser les fichiers de données au format .gz car cela accroîtrait inutilement leur place et risquerait de bloquer l’opération suivante d’importation."
  },
  {
    "objectID": "d01_02_import_individus.html#importation-dans-r",
    "href": "d01_02_import_individus.html#importation-dans-r",
    "title": "2  Données individuelles",
    "section": "2.4 Importation dans R",
    "text": "2.4 Importation dans R\nPour importer les données dans R, il faut installer le package ipumsr qui va nous permettre de lire les métadonnées puis d’importer les données en une seule opération.\n\nlibrary(ipumsr)\n\n# Importation de l'échantillon à 1%\nddi <- read_ipums_ddi(\"ipums/rp/ipumsi_00015.xml\")\ndata <- read_ipums_micro(ddi)\nsaveRDS(data,\"ipums/rp/samp1pct.RDS\")\n\n# Importation de l'échantillon à 10%\nddi <- read_ipums_ddi(\"ipums/rp/ipumsi_00016.xml\")\ndata <- read_ipums_micro(ddi)\nsaveRDS(data,\"ipums/rp/samp10pct.RDS\")"
  },
  {
    "objectID": "d01_02_import_individus.html#conversion-de-format-dans-r",
    "href": "d01_02_import_individus.html#conversion-de-format-dans-r",
    "title": "2  Données individuelles",
    "section": "2.5 Conversion de format dans R",
    "text": "2.5 Conversion de format dans R\nNous reviendrons ultérieurement sur le format du tableau R obtenu qui n’est pas un data.frame standard car il comporte des labels supplémentaire donnant à la fois le nom des variables et le code de leurs modalités. On retiendra juste ici que les données initialement de type haven_labelled peuvent être converties en type factor à l’aide du package haven ce qui permet de visualiser plus facilement.\nA titre d’exemple, le petit programme ci-dessous convertit l’ensemble des données en factor et affiche les premières lignes.\n\nlibrary(haven)\n\n# Lit le fichier enregistré\nrp<-readRDS(\"ipums/rp/samp1pct.RDS\")\n\n# Convertit les variables haven_labelled en factors\nrp<-as_factor(rp, only_labelled=T)\nclass(rp)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n# Convertit le tableau en pur data.frame\nrp<-as.data.frame(rp)\nclass(rp)\n\n[1] \"data.frame\"\n\n# Affiche les 10 premières lignes (soit 2 ménages de 5 personnes )\nkable(head(rp,10), caption = \"Extrait des données IPUMS International\")\n\n\nExtrait des données IPUMS International\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCOUNTRY\nYEAR\nSAMPLE\nSERIAL\nPERSONS\nHHWT\nURBAN\nREGIONW\nGEOLEV1\nGEOLEV2\nOWNERSHIP\nOWNERSHIPD\nELECTRIC\nWATSUP\nTRASH\nTOILET\nPERNUM\nPERWT\nRESIDENT\nRELATE\nRELATED\nAGE\nAGE2\nSEX\nMARST\nMARSTD\nBIRTHYR\nBPLCOUNTRY\nNATION\nBPLBJ1\nBPLBJ2\nBPLBF\nBPLML\nBPLSN\nRELIGION\nRELIGIOND\nSCHOOL\nLIT\nEDATTAIN\nEDATTAIND\nYRSCHOOL\nEMPSTAT\nEMPSTATD\nLABFORCE\nMIGRATEP\nMIGCTRYP\nGEOMIG1_P\nMIGYRS1\nMIG1_P_BJ\nMIG2_P_BJ\nMIGBF\nMIG1_P_ML\nMIG2_P_ML\nMIG1_1_SN\nMIG1_5_SN\nMIG1_10_SN\nMIG2_1_SN\nMIG2_5_SN\nMIG2_10_SN\nMIG1_P_TG\nMIG2_P_TG\nDISABLED\nDISBLND\nDISDEAF\nDISMUTE\n\n\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n2000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n1\n98.3\nPresent resident\nHead\nHead\n33\n30 to 34\nMale\nMarried/in union\nMarried, monogamous\n1973\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNo, never attended\nNo, illiterate\nLess than primary completed\nNo schooling\nNA\nEmployed\nEmployed, not specified\nYes, in the labor force\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n2000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n2\n98.3\nPresent resident\nSpouse/partner\nSpouse/partner\n23\n20 to 24\nFemale\nMarried/in union\nMarried, monogamous\n1983\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNo, never attended\nNo, illiterate\nLess than primary completed\nNo schooling\nNA\nEmployed\nEmployed, not specified\nYes, in the labor force\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n2000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n3\n98.3\nPresent resident\nChild\nChild\n2 years\n0 to 4\nMale\nSingle/never married\nSingle/never married\n2004\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNA\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n2000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n4\n98.3\nPresent resident\nChild\nChild\n3\n0 to 4\nFemale\nSingle/never married\nSingle/never married\n2003\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNo, never attended\nNo, illiterate\nLess than primary completed\nNo schooling\nNA\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n2000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n5\n98.3\nPresent resident\nChild\nChild\n10\n10 to 14\nMale\nSingle/never married\nSingle/never married\n1996\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNo, never attended\nUnknown/missing\nLess than primary completed\nNo schooling\nNA\nEmployed\nEmployed, not specified\nNIU (not in universe)\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n12000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n1\n98.3\nPresent resident\nHead\nHead\n28\n25 to 29\nMale\nMarried/in union\nMarried, monogamous\nUnknown\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNo, never attended\nNo, illiterate\nLess than primary completed\nNo schooling\nNA\nEmployed\nEmployed, not specified\nYes, in the labor force\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n12000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n2\n98.3\nPresent resident\nSpouse/partner\nSpouse/partner\n20\n20 to 24\nFemale\nMarried/in union\nMarried, monogamous\nUnknown\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNo, never attended\nNo, illiterate\nLess than primary completed\nNo schooling\nNA\nEmployed\nEmployed, not specified\nYes, in the labor force\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n12000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n3\n98.3\nPresent resident\nChild\nChild\nLess than 1 year\n0 to 4\nFemale\nSingle/never married\nSingle/never married\n2006\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNA\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNA\nNA\nNA\nNA\nNA\nNA\nNIU (Not in universe)\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n12000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n4\n98.3\nPresent resident\nChild\nChild\n2 years\n0 to 4\nFemale\nSingle/never married\nSingle/never married\n2004\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNA\nNIU (not in universe)\nNIU (not in universe)\nNIU (not in universe)\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo\n\n\nBurkina Faso\n2006\nBurkina Faso 2006\n12000\n5\n98.3\nRural\nWestern Africa\n854001\n854001013\nOwned\nOwned\nNo\nNA\nThrown into street, vacant land, or common area\nNo toilet\n5\n98.3\nPresent resident\nChild\nChild\n5\n5 to 9\nFemale\nSingle/never married\nSingle/never married\n2001\nBurkina Faso\nBurkina Faso\nNA\nNA\nKossi\nNA\nNA\nMuslim\nMuslim\nNo, never attended\nNo, illiterate\nLess than primary completed\nNo schooling\nNA\nInactive\nInactive, other reasons\nNIU (not in universe)\nNA\nNA\nNA\nNA\nNA\nNA\nKossi\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNo, not disabled\nNo\nNo\nNo"
  },
  {
    "objectID": "d01_03_import_geometries.html",
    "href": "d01_03_import_geometries.html",
    "title": "3  Données géométriques",
    "section": "",
    "text": "Un des grands avantages d’IPUMS International pour l’EE CIST 2023 est constitué par la mise à disposition de fonds de carte au format shapefile dont les codes correspondent avec les variables individuelles poue deux niveaux administratifs en dessous du nivau national. On peut donc théoriquement agréger les données individuelles, en déduire des indicateurs agrégés à deux niveaux administratifs différents et en faire la cartographie. L’objectif de cette note est de vérifier que tout ceci fonctionne bien et que les fonds de carte sont de bonne qualité."
  },
  {
    "objectID": "d01_03_import_geometries.html#accès-aux-fichiers-de-géométrie",
    "href": "d01_03_import_geometries.html#accès-aux-fichiers-de-géométrie",
    "title": "3  Données géométriques",
    "section": "3.1 Accès aux fichiers de géométrie",
    "text": "3.1 Accès aux fichiers de géométrie\nUne fois que vous êtes connecté en tant qu’utilisateur, vous pouvez accéder aux données géométriques en cliquant dans la barre latérale gauche sur le lien “GEOGRAPHY & GIS” :\n\n\n\nLien vers les données géométriques\n\n\nCe dernier vous conduit à une page comportant de nombreuses possibilités d’obtention de données géométriques pour chacun des recensements de tous les pays à toutes les dates. On utilisera ici uniquement les géométries associées aux données de recensement, mais la page offre d’autres possibilités, notamment pour la constitution de découpages à plusieurs dates ou pour les liens vers les données DHS."
  },
  {
    "objectID": "d01_03_import_geometries.html#téléchargement-des-géométries-de-niveau-i-et-ii",
    "href": "d01_03_import_geometries.html#téléchargement-des-géométries-de-niveau-i-et-ii",
    "title": "3  Données géométriques",
    "section": "3.2 Téléchargement des géométries de niveau I et II",
    "text": "3.2 Téléchargement des géométries de niveau I et II\nPour assurer une correspondance exacte avec les données de recensement, on utilise uniquement les shapefile correspondant aux indicateurs contenus dans les données individuelles :\n\n\n\nLien vers les données géométriques\n\n\nSur chacune des deux pages on va ensuite télécharger les fonds de carte qui correspondent à des dossiers au format .zip ce qui en réduit la taille. On les décompressera uniquement au moment de leur importation vers R, Qgis ou Geoda.\nAu total nous devons récupérer 10 fichiers correspondant aux 2 niveaux de découpages de chacun des 5 recensements pour lesquels nous avons collecté des échantillons de données individuelles.\n - N.B. Chaque fichier correspond à une date précise et un pays précis. Dans le cas d’un pays dont les régions ont change, il faut télécharger autant de fichiers qu’il y a de géométries différentes. Précisons par ailleurs que les fonds de carte proposés sont assez généralisées et ne se prête pas à des opérations précises de repérage de terrain : ils ne servent qu’à visualiser les résultats de recensement."
  },
  {
    "objectID": "d01_03_import_geometries.html#conversion-au-format-sf",
    "href": "d01_03_import_geometries.html#conversion-au-format-sf",
    "title": "3  Données géométriques",
    "section": "3.3 Conversion au format sf",
    "text": "3.3 Conversion au format sf\nLes fichiers obtenus sont directement utilisables par Qgis ou GeoDa mais ils doivent être convertis au format sf pour être utilisés dans R. On peut utiliser pour cela un programme qui automatise la tâche du type de celui qui est présenté ci-dessous pour le Burkina et qui sera ensuite appliqué à tous les autres recensements :\n\n3.3.1 Bénin, 2013\n\nlibrary(sf)\n\nLinking to GEOS 3.9.1, GDAL 3.4.3, PROJ 7.2.1; sf_use_s2() is TRUE\n\ncensus=\"bj2013\"\n\nunzip(paste0(\"ipums/geom/geo1_\",census,\".zip\"), exdir=\"ipums/geom/tmp\")\nmap1<-st_read(paste0(\"ipums/geom/tmp/geo1_\",census,\".shp\"),quiet=T)\nsaveRDS(map1,paste0(\"ipums/geom/geo1_\",census,\".RDS\"))\n\nunzip(paste0(\"ipums/geom/geo2_\",census,\".zip\"), exdir=\"ipums/geom/tmp\")\nmap2<-st_read(paste0(\"ipums/geom/tmp/geo2_\",census,\".shp\"),quiet=T)\nsaveRDS(map2,paste0(\"ipums/geom/geo2_\",census,\".RDS\"))\n\npar(mar=c(0,0,2,0))\nplot(map2$geometry, col=\"lightyellow\", border=\"gray80\", lwd=0.4, main=census)\nplot(map1$geometry,add=T, col=NA, border = \"black\",lwd=0.8)\n\n\n\n\n\n\n3.3.2 Burkina Faso 2006\n\n\n\n\n\n\n\n3.3.3 Mali 2009\n\n\n\n\n\n\n\n3.3.4 Sénégal 2013\n\n\n\n\n\n\n\n3.3.5 Togo 2010"
  },
  {
    "objectID": "d01_03_import_geometries.html#géométries-harmonisées-dans-le-temps",
    "href": "d01_03_import_geometries.html#géométries-harmonisées-dans-le-temps",
    "title": "3  Données géométriques",
    "section": "3.4 Géométries harmonisées dans le temps",
    "text": "3.4 Géométries harmonisées dans le temps\nIPUMS propose pour chaque pays des géométries harmonisées permettant de comparer les situations à plusieurs dates et, du même coup, de procéder à des analyses de migrations. La résolution spatiale est évidemment plus faible mais l’intérêt beaucoup plus grand en terme d’utilisations pédagogiques multiples.\n\n3.4.1 Bénin, 1979-2013\n\n\n\n\n\n\n\n3.4.2 Burkina_Faso, 1996-2006\n\n\n\n\n\n\n\n3.4.3 Mali, 1987-2009\n\n\n\n\n\n\n\n3.4.4 Sénégal 1988-2013\n\n\n\n\n\n\n\n3.4.5 Togo 1970-2010"
  },
  {
    "objectID": "d02_00_indicateurs_introduction.html",
    "href": "d02_00_indicateurs_introduction.html",
    "title": "CREATION D’INDICATEURS",
    "section": "",
    "text": "La seconde étape du travail est la création d’indicateurs territoriaux décrivant les unités administratives des différents pays à chacun des deux niveaux d’analyse géographique. Ces indicateurs territoriaux peuvent être obtenus de plusieurs façons et on se limitera ici à quelques exemples. Le point essentiel est quel les méthodes utilisées pour créer ces indicateurs soient bien reproductibles pour chacun des recensements analysés."
  },
  {
    "objectID": "d02_01_indicateurs_popsup.html",
    "href": "d02_01_indicateurs_popsup.html",
    "title": "4  Population, surface, densité",
    "section": "",
    "text": "Le premier exemple de création d’indicateur concerne l’établissement de cartes de densité ce qui suppose de mobiliser à la fois les données individuelles (pour agréger la population) et les données géographiques (pour calculer la superficie)."
  },
  {
    "objectID": "d02_01_indicateurs_popsup.html#agrégation-de-la-population",
    "href": "d02_01_indicateurs_popsup.html#agrégation-de-la-population",
    "title": "4  Population, surface, densité",
    "section": "4.1 Agrégation de la population",
    "text": "4.1 Agrégation de la population\nUne question intéressante concerne la marge d’erreur du calcul des populations selon que l’on part d’un échantillon plus ou moins dense (ici, à 1 pct ou 10 pct). Ce point méritera d’être discuté avec les spécialistes de statistique inférentielle du projet. Nous nous bornerons ici à calculer les indicateurs tirés de l’échantillon à 10%\nOn calcule pour chacune des unités territoriales de niveau I ou II la somme des individus pondérée par le poids des ménages (HHWT) et on stocke le résultat dans un dossier commun à tous les recensments appelés all. Ceci évitera d’avoir à refaire le calcul dans les étapes suivantes.\n\n## Chargement des données\nrp <-readRDS(file = \"ipums/rp/samp10pct.RDS\")\n\n## Calcul des populations au niveau administratif I\npop1<-rp      %>% group_by(GEOLEV1) %>% \n                  summarise(POP=sum(HHWT))  %>%\n                  mutate(GEOLEV1 = as.character(GEOLEV1))\nsaveRDS(pop1, \"indic/all/POP_LEV1.RDS\")\n\n## Calcul des populations au niveau administratif II\npop2<-rp      %>% group_by(GEOLEV2) %>% \n                  summarise(POP=sum(HHWT))  %>%\n                  mutate(GEOLEV2 = as.character(GEOLEV2))\nsaveRDS(pop2, \"indic/all/POP_LEV2.RDS\")"
  },
  {
    "objectID": "d02_01_indicateurs_popsup.html#jointure-avec-les-géométries",
    "href": "d02_01_indicateurs_popsup.html#jointure-avec-les-géométries",
    "title": "4  Population, surface, densité",
    "section": "4.2 Jointure avec les géométries",
    "text": "4.2 Jointure avec les géométries\nOn va maintenant procéder à la jointure des données avec les fonds de carte puis stocker ces derniers enrichis par la population au format sf. On crée pour cela une procédure semi-automatique qu’on va applique au RP Bénin 2013 et qui sera ensuite répliquée sur les autres recensements étudiés.\n\n4.2.1 Bénin, RP 2013\n\nlibrary(sf)\ncensus=\"bj2013\"\nrefmap=\"bj1979_2013\"\n\n# --------------- Niveau administratif I ----------------------\n\n## Load population\npop1<-readRDS(\"indic/all/POP_LEV1.RDS\")\n## Read Geometry and create code\nmap1<-readRDS(paste0(\"ipums/geom/geo1_\", refmap,\".RDS\")) %>% rename(GEOLEV1=GEOLEVEL1)\n\n## Join\nmapdon1<-left_join(map1,pop1) %>% select(code = GEOLEV1,\n                                         nom  = ADMIN_NAME,\n                                         pays = CNTRY_NAME,\n                                         pop = POP,\n                                         geometry = geometry)%>%\n                                  filter(nom !=\"Unknown\") %>%\n                                  st_make_valid()\n\nJoining, by = \"GEOLEV1\"\n\n## Save\nsaveRDS(mapdon1,paste0(\"indic/\",census,\"/\",\"pop_lev1_\",census,\".RDS\"))\n\n# --------------- Niveau administratif II ----------------------                            ## Load population\npop2<-readRDS(\"indic/all/POP_LEV2.RDS\")\n## Read Geometry and create code\nmap2<-readRDS(paste0(\"ipums/geom/geo2_\", refmap,\".RDS\")) %>% rename(GEOLEV2=GEOLEVEL2)\n## Join\nmapdon2<-left_join(map2,pop2) %>% select(code = GEOLEV2,\n                                         nom  = ADMIN_NAME,\n                                         pays = CNTRY_NAME,\n                                         pop = POP,\n                                         geometry = geometry)%>%\n                                  filter(nom !=\"Unknown\") %>%\n                                  st_make_valid()\n\nJoining, by = \"GEOLEV2\"\n\n## Save\nsaveRDS(mapdon2,paste0(\"indic/\",census,\"/\",\"pop_lev2_\",census,\".RDS\"))\n\n\n\n# Vérification\npar(mfrow=c(1,2))\nmf_map(mapdon1, type=\"base\", col=\"lightyellow\")\nmf_map(mapdon1,type=\"prop\", var=\"pop\",inches = 0.1)\nmf_layout(title = paste(census,\"- Population au niveau I\"),\n          credits = \"Source :  IPUMS, 2020 & INS Benin, 2013\",\n          scale = FALSE, arrow=FALSE)\nmf_map(mapdon2, type=\"base\", col=\"lightyellow\")\nmf_map(mapdon2,type=\"prop\", var=\"pop\",inches = 0.1)\nmf_layout(title = paste(census,\"- Population au niveau II\"),\n          credits = \"Source :  IPUMS, 2020 & INS Benin, 2013\",\n          scale = FALSE, arrow=FALSE)\n\n\n\n\n\n\n4.2.2 Burkina Faso, RP 2006\n\n\nJoining, by = \"GEOLEV1\"\nJoining, by = \"GEOLEV2\"\n\n\n\n\n\n\n\n4.2.3 Mali, RP 2009\n\n\nJoining, by = \"GEOLEV1\"\nJoining, by = \"GEOLEV2\"\n\n\n\n\n\n\nN.B. : il a fallu supprimer un polygone vide concernant les valeurs “Unknown” et réparer la géométrie d’une unité en appliquant la fonction st_make_valid() du package sf.\n\n\n\n4.2.4 Togo, RP 2010\n\n\nJoining, by = \"GEOLEV1\"\nJoining, by = \"GEOLEV2\"\n\n\n\n\n\n\nN.B. : il a fallu supprimer un polygone vide concernant les valeurs “Unknown” et réparer la géométrie d’une unité en appliquant la fonction st_make_valid() du package sf.\n\n\n\n4.2.5 Sénégal, RP 2013\n\n\nJoining, by = \"GEOLEV1\"\nJoining, by = \"GEOLEV2\""
  },
  {
    "objectID": "d02_01_indicateurs_popsup.html#calcul-des-superficies-et-densités",
    "href": "d02_01_indicateurs_popsup.html#calcul-des-superficies-et-densités",
    "title": "4  Population, surface, densité",
    "section": "4.3 Calcul des superficies et densités",
    "text": "4.3 Calcul des superficies et densités\nMaintenant que les variables de population sont incluses dans un fichier sf, on peut y ajouter la superficie à l’aide d’un simple calcul géométrique et en déduire la densité de population des unités territoriales. Le calcul des superficies est évidemment légèrement entaché d’erreur puisqu’il dépend de la précision du fonds de carte. Ainis, dans le cas Bénin, nous trouvons une superficie de 115768 km2 alors que la valeur donnée par la Banque Mondiale est de 114760 km2.\n\n4.3.1 RP Bénin, 2013\n\nlibrary(sf)\ncensus=\"bj2013\"\n\n# calcul des indicateurs au niveau I\nmap1<-readRDS(paste0(\"indic/\",census,\"/\",\"pop_lev1_\",census,\".RDS\"))\nmap1$sup<-as.numeric(st_area(map1)/(1000*1000))\nmap1$den<- map1$pop/map1$sup\nsaveRDS(map1, paste0(\"indic/\",census,\"/\",\"popsup_lev1_\",census,\".RDS\"))\n\n# calcul des indicateurs au niveau II\nmap2<-readRDS(paste0(\"indic/\",census,\"/\",\"pop_lev2_\",census,\".RDS\"))\nmap2$sup<-as.numeric(st_area(map2)/(1000*1000))\nmap2$den<- map2$pop/map2$sup\nsaveRDS(map2, paste0(\"indic/\",census,\"/\",\"popsup_lev1_\",census,\".RDS\"))\n\n# Vérification\n\nmybreaks=c(0,5,10,20,40,80,160,320,10000)\nmycols = brewer.pal(8,\"YlOrBr\")\npar(mfrow=c(1,2))\nmf_map(map1,type=\"choro\", \n            var=\"den\",\n            breaks=mybreaks,\n            pal=mycols,\n            leg_title = \"hab./km2\",\n            leg_val_rnd = 0)\nmf_layout(title = paste(census,\"- Densite de population au niveau I\"),\n          credits = \"Sources :  IPUMS, 2020 & INS Bénin,2013\",\n          scale = FALSE, arrow=FALSE)\nmf_map(map2,type=\"choro\", \n            var=\"den\",\n            breaks=mybreaks,\n            pal=mycols,\n            leg_title = \"hab./km2\",\n            leg_val_rnd = 0,\n             lwd=0.3,\n             border = \"gray80\")\nmf_map(map1,type=\"base\", \n            add=T,\n            lwd=1,\n            col = NA,\n            border=\"black\")\nmf_layout(title = paste(census,\"- Densite de population au niveau II\"),\n          credits = \"Sources :  IPUMS, 2020 & INS Bénin,2013\",\n          scale = FALSE, arrow=FALSE)\n\n\n\n\n\n\n4.3.2 RP Burkina Faso, 2006\n\n\n\n\n\n\n\n4.3.3 RP Mali, 2009\n\n\n\n\n\n\n\n4.3.4 RP Sénégal, 2013\n\n\n\n\n\n\n\n4.3.5 RP Togo, 2010"
  }
]